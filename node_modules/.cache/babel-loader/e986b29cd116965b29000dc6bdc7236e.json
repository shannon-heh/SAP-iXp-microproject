{"ast":null,"code":"var _jsxFileName = \"/Users/i818433/Desktop/micro-project-master/src/leaderboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { JsonToTable } from 'react-json-to-table';\nimport Dropdown from './components/Dropdown';\nexport default function Leaderboard(props) {\n  var getData = props.getData;\n  var setData = props.setData;\n  var data = props.data;\n  var users = [];\n  const [loc, setLoc] = useState(\"All\");\n  const [locations, setLocations] = useState([]);\n\n  function getLocations() {\n    Axios.get(\"http://localhost:3000/locations\").then(res => {\n      setLocations(res.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  if (!data) {\n    // if data is undefined\n    getData(loc);\n    getLocations();\n  } else {\n    for (let i = 0; i < data.length; i++) {\n      const displayed = (({\n        name,\n        points\n      }) => ({\n        name,\n        points\n      }))(data[i]); // console.log(displayed);\n\n\n      users.push(displayed);\n    }\n\n    var table = /*#__PURE__*/React.createElement(JsonToTable, {\n      json: users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData(loc);\n  }, [loc]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Leaderboard\"), /*#__PURE__*/React.createElement(Dropdown, {\n    locations: locations,\n    setLoc: setLoc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, table));\n}","map":{"version":3,"sources":["/Users/i818433/Desktop/micro-project-master/src/leaderboard.js"],"names":["React","useState","useEffect","Axios","JsonToTable","Dropdown","Leaderboard","props","getData","setData","data","users","loc","setLoc","locations","setLocations","getLocations","get","then","res","catch","error","console","log","i","length","displayed","name","points","push","table"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAEvC,MAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;AACA,MAAIC,OAAO,GAAGF,KAAK,CAACE,OAApB;AACA,MAAIC,IAAI,GAAGH,KAAK,CAACG,IAAjB;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,QAAM,CAACC,GAAD,EAAKC,MAAL,IAAeZ,QAAQ,CAAC,KAAD,CAA7B;AACA,QAAM,CAACa,SAAD,EAAWC,YAAX,IAA2Bd,QAAQ,CAAC,EAAD,CAAzC;;AAEA,WAASe,YAAT,GAAyB;AACrBb,IAAAA,KAAK,CAACc,GAAN,CAAU,iCAAV,EACKC,IADL,CACWC,GAAD,IAAS;AACXJ,MAAAA,YAAY,CAACI,GAAG,CAACT,IAAL,CAAZ;AACH,KAHL,EAIKU,KAJL,CAIYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANL;AAOC;;AAEL,MAAI,CAACX,IAAL,EAAW;AAAK;AACZF,IAAAA,OAAO,CAACI,GAAD,CAAP;AACAI,IAAAA,YAAY;AACf,GAHD,MAIK;AACD,SAAK,IAAIQ,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACd,IAAI,CAACe,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAC9B,YAAME,SAAS,GAAG,CAAC,CAAC;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OAAD,MAAuB;AAAED,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OAAvB,CAAD,EAA2ClB,IAAI,CAACc,CAAD,CAA/C,CAAlB,CAD8B,CAE9B;;;AACAb,MAAAA,KAAK,CAACkB,IAAN,CAAWH,SAAX;AACH;;AAED,QAAII,KAAK,gBAAG,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAEnB,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAZ;AACH;;AAEDT,EAAAA,SAAS,CAAC,MAAI;AACVM,IAAAA,OAAO,CAACI,GAAD,CAAP;AACH,GAFQ,EAEP,CAACA,GAAD,CAFO,CAAT;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAIE,SAAvB;AAAkC,IAAA,MAAM,EAAID,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMiB,KAAN,CAHJ,CADJ;AAOH","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Axios from 'axios';\nimport { JsonToTable } from 'react-json-to-table';\nimport Dropdown from './components/Dropdown';\n\nexport default function Leaderboard(props) {\n\n    var getData = props.getData;\n    var setData = props.setData;\n    var data = props.data\n    var users = [];\n    const [loc,setLoc] = useState(\"All\");\n    const [locations,setLocations] = useState([]);\n\n    function getLocations () {\n        Axios.get(\"http://localhost:3000/locations\")\n            .then((res) => {\n                setLocations(res.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n        }\n\n    if (!data) {    // if data is undefined\n        getData(loc);\n        getLocations();\n    }\n    else {\n        for (let i=0; i<data.length; i++) {\n            const displayed = (({ name, points }) => ({ name, points }))(data[i]);\n            // console.log(displayed);\n            users.push(displayed);\n        }\n        \n        var table = <JsonToTable json={users} />\n    }\n\n    useEffect(()=>{\n        getData(loc)\n    },[loc])\n    \n\n\n    return (\n        <div className=\"home\">\n            <h1>Leaderboard</h1>\n            <Dropdown locations = {locations} setLoc = {setLoc} />\n            <div>{table}</div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}