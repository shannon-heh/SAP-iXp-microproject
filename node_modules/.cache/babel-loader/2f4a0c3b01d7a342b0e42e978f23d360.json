{"ast":null,"code":"var _jsxFileName = \"/Users/i818433/Desktop/micro-project-master/src/components/Home.js\";\n//import React from 'react';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { JsonToTable } from 'react-json-to-table';\nimport Dropdown from './Dropdown';\nimport { DataContext } from '../Contexts/DataContextComponent';\nexport default function Home() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Leaderboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 11\n    }\n  }));\n}\n\nfunction Leaderboard(props) {\n  const dataContext = useContext(DataContext);\n  var users = [];\n\n  const clone = obj => Object.assign({}, obj);\n\n  const renameKey = (object, key, newKey) => {\n    const clonedObj = clone(object);\n    const targetKey = clonedObj[key];\n    delete clonedObj[key];\n    clonedObj[newKey] = targetKey;\n    return clonedObj;\n  };\n\n  if (!dataContext.data) {\n    // if data is undefined\n    dataContext.getData(dataContext.loc);\n    dataContext.getLocations();\n  } else {\n    for (let i = 0; i < dataContext.data.length; i++) {\n      let displayed = (({\n        Ranking,\n        name,\n        points\n      }) => ({\n        Ranking,\n        name,\n        points\n      }))(dataContext.data[i]);\n\n      users.push(renameKey(renameKey(displayed, \"name\", \"Intern\"), \"points\", \"Points\"));\n    }\n\n    users.map((user, index) => {\n      users[index].Ranking = index + 1;\n    });\n    console.log(users);\n    var table = /*#__PURE__*/React.createElement(JsonToTable, {\n      json: users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    });\n  }\n\n  useEffect(() => {\n    dataContext.getData(dataContext.loc);\n  }, [dataContext.loc]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Leaderboard\"), /*#__PURE__*/React.createElement(Dropdown, {\n    locations: dataContext.locations,\n    setLoc: dataContext.setLoc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, table));\n} //export default Home;","map":{"version":3,"sources":["/Users/i818433/Desktop/micro-project-master/src/components/Home.js"],"names":["React","useState","useEffect","useContext","JsonToTable","Dropdown","DataContext","Home","Leaderboard","props","dataContext","users","clone","obj","Object","assign","renameKey","object","key","newKey","clonedObj","targetKey","data","getData","loc","getLocations","i","length","displayed","Ranking","name","points","push","map","user","index","console","log","table","locations","setLoc"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,EAAkCC,UAAlC,QAAmD,OAAnD;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAAQC,WAAR,QAA0B,kCAA1B;AAEA,eAAe,SAASC,IAAT,GAAgB;AAC3B,sBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADH;AAKH;;AAGD,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAExB,QAAMC,WAAW,GAAGP,UAAU,CAACG,WAAD,CAA9B;AACA,MAAIK,KAAK,GAAG,EAAZ;;AACA,QAAMC,KAAK,GAAIC,GAAD,IAASC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,GAAlB,CAAvB;;AACA,QAAMG,SAAS,GAAG,CAACC,MAAD,EAASC,GAAT,EAAcC,MAAd,KAAyB;AAEvC,UAAMC,SAAS,GAAGR,KAAK,CAACK,MAAD,CAAvB;AAEA,UAAMI,SAAS,GAAGD,SAAS,CAACF,GAAD,CAA3B;AAIA,WAAOE,SAAS,CAACF,GAAD,CAAhB;AAEAE,IAAAA,SAAS,CAACD,MAAD,CAAT,GAAoBE,SAApB;AAEA,WAAOD,SAAP;AAED,GAdH;;AAgBA,MAAI,CAACV,WAAW,CAACY,IAAjB,EAAuB;AAAK;AACxBZ,IAAAA,WAAW,CAACa,OAAZ,CAAoBb,WAAW,CAACc,GAAhC;AACAd,IAAAA,WAAW,CAACe,YAAZ;AACH,GAHD,MAIK;AACD,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAChB,WAAW,CAACY,IAAZ,CAAiBK,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1C,UAAIE,SAAS,GAAG,CAAC,CAAC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,IAAX;AAAiBC,QAAAA;AAAjB,OAAD,MAAgC;AAAEF,QAAAA,OAAF;AAAWC,QAAAA,IAAX;AAAiBC,QAAAA;AAAjB,OAAhC,CAAD,EAA6DrB,WAAW,CAACY,IAAZ,CAAiBI,CAAjB,CAA7D,CAAhB;;AACAf,MAAAA,KAAK,CAACqB,IAAN,CAAWhB,SAAS,CAACA,SAAS,CAACY,SAAD,EAAW,MAAX,EAAkB,QAAlB,CAAV,EAAsC,QAAtC,EAA+C,QAA/C,CAApB;AACH;;AAELjB,IAAAA,KAAK,CAACsB,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACvBxB,MAAAA,KAAK,CAACwB,KAAD,CAAL,CAAaN,OAAb,GAAuBM,KAAK,GAAC,CAA7B;AACH,KAFD;AAKAC,IAAAA,OAAO,CAACC,GAAR,CAAY1B,KAAZ;AAGI,QAAI2B,KAAK,gBAAG,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE3B,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAZ;AACH;;AAEDT,EAAAA,SAAS,CAAC,MAAI;AACVQ,IAAAA,WAAW,CAACa,OAAZ,CAAoBb,WAAW,CAACc,GAAhC;AACH,GAFQ,EAEP,CAACd,WAAW,CAACc,GAAb,CAFO,CAAT;AAMA,sBACI;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAId,WAAW,CAAC6B,SAAnC;AAA8C,IAAA,MAAM,EAAI7B,WAAW,CAAC8B,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,KAAN,CAHJ,CADJ;AAOH,C,CAED","sourcesContent":["//import React from 'react';\nimport React,{useState,useEffect, useContext} from 'react';\nimport { JsonToTable } from 'react-json-to-table';\nimport Dropdown from './Dropdown';\nimport {DataContext} from '../Contexts/DataContextComponent';\n\nexport default function Home() {\n    return (\n       <div>\n          <Leaderboard />\n       </div>\n    );\n}\n\n\nfunction Leaderboard(props) {\n\n    const dataContext = useContext(DataContext);\n    var users = [];\n    const clone = (obj) => Object.assign({}, obj);\n    const renameKey = (object, key, newKey) => {\n\n        const clonedObj = clone(object);\n      \n        const targetKey = clonedObj[key];\n      \n      \n      \n        delete clonedObj[key];\n      \n        clonedObj[newKey] = targetKey;\n      \n        return clonedObj;\n      \n      };\n\n    if (!dataContext.data) {    // if data is undefined\n        dataContext.getData(dataContext.loc);\n        dataContext.getLocations();\n    }\n    else {\n        for (let i=0; i<dataContext.data.length; i++) {\n            let displayed = (({ Ranking, name, points }) => ({ Ranking, name, points }))(dataContext.data[i]);\n            users.push(renameKey(renameKey(displayed,\"name\",\"Intern\"),\"points\",\"Points\"));\n        }\n\n    users.map((user, index) => {\n        users[index].Ranking = index+1;        \n    }\n    )\n\n    console.log(users);\n\n        \n        var table = <JsonToTable json={users} />\n    }\n\n    useEffect(()=>{\n        dataContext.getData(dataContext.loc)\n    },[dataContext.loc])\n    \n\n\n    return (\n        <div id=\"home\">\n            <h2>Leaderboard</h2>\n            <Dropdown locations = {dataContext.locations} setLoc = {dataContext.setLoc} />\n            <div>{table}</div>\n        </div>\n    );\n}\n \n//export default Home;"]},"metadata":{},"sourceType":"module"}