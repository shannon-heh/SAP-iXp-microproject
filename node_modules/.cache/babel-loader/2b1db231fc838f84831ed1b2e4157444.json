{"ast":null,"code":"var _jsxFileName = \"/Users/i818433/Desktop/micro-project-master/src/login/csv.js\";\nimport React, { useState, useContext } from 'react';\nimport { CSVReader } from 'react-papaparse';\nimport Axios from 'axios';\nimport { DataContext } from '../Contexts/DataContextComponent';\nexport default function CSV(props) {\n  const [csv, setCsv] = useState({\n    users: []\n  });\n  const [isSubmit, setSubmit] = useState(false);\n  const dataContext = useContext(DataContext);\n  var buttonRef = React.createRef();\n\n  var handleSubmit = alldata => {\n    // console.log(alldata);\n    var outData = new Promise((resolve, reject) => {\n      resolve(alldata.map(data => data.data));\n    });\n    outData.then(data => {\n      console.log(data);\n      setCsv({\n        users: data.slice(4)\n      });\n    });\n  };\n\n  var handleError = () => {\n    if (isSubmit === true) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 16\n        }\n      }, \"Submitted\");\n    } else if (isSubmit === 'failed') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg-fail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 16\n        }\n      }, \" Submit Failed \");\n    } else if (isSubmit === \"sending\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg-sending\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 16\n        }\n      }, \" Sending\");\n    } else {\n      return null;\n    }\n  };\n\n  var handleOpenDialog = e => {\n    // Note that the ref is set async, so it might be null at some point\n    if (buttonRef.current) {\n      buttonRef.current.open(e);\n    }\n  }; //   var handleOnFileLoad = (data) => {\n  //     console.log('---------------------------')\n  //     console.log(data)\n  //     console.log('---------------------------')\n  //   }\n\n\n  var handleOnError = (err, file, inputElem, reason) => {\n    console.log(err);\n  };\n\n  var handleOnRemoveFile = data => {\n    console.log('---------------------------');\n    console.log(data);\n    console.log('---------------------------');\n  };\n\n  var handleRemoveFile = e => {\n    // Note that the ref is set async, so it might be null at some point\n    if (buttonRef.current) {\n      buttonRef.current.removeFile(e);\n    }\n  };\n\n  var sendData = event => {\n    event.preventDefault();\n    setSubmit(\"sending\");\n    Axios.post(\"http://localhost:3000/csv\", {\n      users: csv.users\n    }).then(response => {\n      console.log(response.data);\n      dataContext.getData(\"All\");\n      dataContext.setLoc(\"All\");\n      setSubmit(true);\n    }).catch(error => {\n      console.log(error);\n      setSubmit(\"failed\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"csv-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CSVReader, {\n    ref: buttonRef,\n    onFileLoad: handleSubmit,\n    onError: handleOnError,\n    noClick: true,\n    noDrag: true,\n    onRemoveFile: handleOnRemoveFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, ({\n    file\n  }) => /*#__PURE__*/React.createElement(\"aside\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      marginBottom: 10,\n      width: '800px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleOpenDialog,\n    style: {\n      borderRadius: 0,\n      marginLeft: 0,\n      marginRight: 0,\n      paddingLeft: 20,\n      paddingRight: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Browse file\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CSV-div\",\n    style: {\n      borderWidth: 1,\n      borderStyle: 'solid',\n      borderColor: '#ccc',\n      height: 40,\n      lineHeight: 2,\n      marginTop: 0,\n      marginBottom: 0,\n      paddingLeft: 13,\n      textAlign: \"center\",\n      paddingTop: 3,\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, file && file.name ? \"File Uploaded\" : \"Upload File\"), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      borderRadius: 0,\n      marginLeft: 0,\n      marginRight: 0,\n      paddingLeft: 20,\n      paddingRight: 20\n    },\n    onClick: handleRemoveFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, \"Remove\"))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submitCsv\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, \"Submit CSV\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, csv.users.map(user => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, \"Name :\"), \" \", user[0], \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 43\n    }\n  }, \"Email:\"), \" \", user[1], \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 67\n    }\n  }, \"Duration:\"), \" \", user[4]))), handleError()));\n}","map":{"version":3,"sources":["/Users/i818433/Desktop/micro-project-master/src/login/csv.js"],"names":["React","useState","useContext","CSVReader","Axios","DataContext","CSV","props","csv","setCsv","users","isSubmit","setSubmit","dataContext","buttonRef","createRef","handleSubmit","alldata","outData","Promise","resolve","reject","map","data","then","console","log","slice","handleError","handleOpenDialog","e","current","open","handleOnError","err","file","inputElem","reason","handleOnRemoveFile","handleRemoveFile","removeFile","sendData","event","preventDefault","post","response","getData","setLoc","catch","error","display","flexDirection","marginBottom","width","borderRadius","marginLeft","marginRight","paddingLeft","paddingRight","borderWidth","borderStyle","borderColor","height","lineHeight","marginTop","textAlign","paddingTop","name","user"],"mappings":"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","sourcesContent":["import React,{useState,useContext} from 'react';\nimport { CSVReader } from 'react-papaparse'\nimport Axios from 'axios';\nimport {DataContext} from '../Contexts/DataContextComponent';\n\nexport default function CSV(props){\n    const [csv,setCsv] = useState({users:[]});\n    const [isSubmit,setSubmit] = useState(false);\n    const dataContext = useContext(DataContext);\n    var buttonRef = React.createRef();\n    \n    var handleSubmit = (alldata)=>{\n        // console.log(alldata);\n        \n        var outData = new Promise((resolve,reject)=>{\n            resolve(alldata.map((data) => data.data));\n        });\n        outData.then((data)=>{\n            console.log(data);\n            setCsv({users:data.slice(4)});\n        }) \n    \n    };\n\n    var handleError = ()=>{\n      if(isSubmit === true){\n        return <div className = \"msg-success\">Submitted</div>\n      }\n      else if(isSubmit === 'failed'){\n        return <div className = \"msg-fail\"> Submit Failed </div>\n      }\n      else if(isSubmit === \"sending\"){\n        return <div className = \"msg-sending\"> Sending</div>\n      }\n      else {\n        return null;\n      }\n    }\n\n      var handleOpenDialog = (e) => {\n        // Note that the ref is set async, so it might be null at some point\n        if (buttonRef.current) {\n          buttonRef.current.open(e)\n        }\n      }\n    \n    //   var handleOnFileLoad = (data) => {\n    //     console.log('---------------------------')\n    //     console.log(data)\n    //     console.log('---------------------------')\n    //   }\n    \n      var handleOnError = (err, file, inputElem, reason) => {\n        console.log(err)\n      }\n    \n      var handleOnRemoveFile = (data) => {\n        console.log('---------------------------')\n        console.log(data)\n        console.log('---------------------------')\n      }\n    \n      var handleRemoveFile = (e) => {\n        // Note that the ref is set async, so it might be null at some point\n        if (buttonRef.current) {\n          buttonRef.current.removeFile(e)\n        }\n      }\n\n      var sendData = (event)=>{\n          event.preventDefault();\n          setSubmit(\"sending\")\n          Axios.post(\"http://localhost:3000/csv\",{users:csv.users})\n          .then((response)=>{\n              console.log(response.data);\n              dataContext.getData(\"All\");\n              dataContext.setLoc(\"All\");\n              setSubmit(true);\n          })\n          .catch((error)=>{\n            console.log(error);\n            setSubmit(\"failed\");\n          })\n      }\n\n    return(\n      <div className=\"csv-container\">\n        <form onSubmit = {sendData}>\n            <CSVReader\n          ref={buttonRef}\n          onFileLoad={handleSubmit}\n          onError={handleOnError}\n          noClick\n          noDrag\n          onRemoveFile={handleOnRemoveFile}\n        >\n           {({ file }) => (\n            <aside\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              marginBottom: 10,\n              width:'800px'\n            }}\n          >\n              <button\n                type='button'\n                onClick={handleOpenDialog}\n                style={{\n                  borderRadius: 0,\n                  marginLeft: 0,\n                  marginRight: 0,\n                  paddingLeft: 20,\n                  paddingRight: 20\n                }}\n              >\n                Browse file\n              </button>\n              <div className=\"CSV-div\"\n                style={{\n                  borderWidth: 1,\n                  borderStyle: 'solid',\n                  borderColor: '#ccc',\n                  height: 40,\n                  lineHeight: 2,\n                  marginTop: 0,\n                  marginBottom: 0,\n                  paddingLeft: 13,\n                  textAlign:\"center\",\n                  paddingTop: 3,\n                  width: '100%'\n                }}\n              >\n                {file && file.name?\"File Uploaded\":\"Upload File\"}\n              </div>\n              <button\n                style={{\n                  borderRadius: 0,\n                  marginLeft: 0,\n                  marginRight: 0,\n                  paddingLeft: 20,\n                  paddingRight: 20\n                }}\n                onClick={handleRemoveFile}\n              >\n                Remove\n              </button>\n            </aside>\n          )}\n          </CSVReader>\n          <button className=\"submitCsv\" type=\"submit\">Submit CSV</button>\n          <div>{csv.users.map((user)=>\n              <div>\n                  <b>Name :</b> {user[0]} <b>Email:</b> {user[1]} <b>Duration:</b> {user[4]}\n              </div>\n          )}</div>\n\n          {\n            handleError()\n          }\n          \n        </form>\n        </div>\n        \n\n    );\n}"]},"metadata":{},"sourceType":"module"}